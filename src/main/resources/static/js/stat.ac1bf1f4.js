(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["stat"],{6143:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("main",{staticClass:"Stat Wrapper"},[t.isAuth&&t.canUserSeeAllStat?a("BaseNavbar",{attrs:{className:"Stat-Nav",navItems:t.navItems},on:{"set-nav-value":t.selectActiveNavProp}}):t._e(),!t.isAuth&&t.canUserSeeAllStat?a("div",{staticClass:"Stat-Title"},[t._v(" All statistics ")]):t._e(),t.isAuth&&!t.canUserSeeAllStat?a("div",{staticClass:"Stat-Title"},[t._v(" My posts ")]):t._e(),t.isAuth||t.canUserSeeAllStat?a("div",{staticClass:"Stat-Content"},[a("div",{staticClass:"Stat-Row"},[a("div",{staticClass:"Stat-Prop"},[t._v(" Posts: ")]),a("div",{staticClass:"Stat-Value"},[t._v(" "+t._s(t.postsCount)+" ")])]),a("div",{staticClass:"Stat-Row"},[a("div",{staticClass:"Stat-Prop"},[t._v(" Likes: ")]),a("div",{staticClass:"Stat-Value"},[t._v(" "+t._s(t.likeCount)+" ")])]),a("div",{staticClass:"Stat-Row"},[a("div",{staticClass:"Stat-Prop"},[t._v(" Dislikes: ")]),a("div",{staticClass:"Stat-Value"},[t._v(" "+t._s(t.dislikeCount)+" ")])]),a("div",{staticClass:"Stat-Row"},[a("div",{staticClass:"Stat-Prop"},[t._v(" Views ")]),a("div",{staticClass:"Stat-Value"},[t._v(" "+t._s(t.viewCount)+" ")])]),a("div",{staticClass:"Stat-Row"},[a("div",{staticClass:"Stat-Prop"},[t._v(" First post: ")]),a("div",{staticClass:"Stat-Value"},[t._v(" "+t._s(t._f("formatRelTime")(t.firstPublication))+" ")])])]):t._e(),t.isAuth||t.settings.STATISTICS_IS_PUBLIC?t._e():a("div",{staticClass:"ServerInfo Stat-Info"},[t._v(" Sorry, the statistics are not available. ")])],1)},e=[],n=(a("99af"),a("d3b7"),a("5530")),o=a("bc3a"),l=a.n(o),c=a("8c89"),u=a("2f62"),r=function(){return a.e("baseNavbar").then(a.bind(null,"c8ce"))},v={name:"Stat",components:{BaseNavbar:r},data:function(){return{navItems:[{name:"All over the blog",value:"all"},{name:"My",value:"my"}],activeNavProp:0,isLoading:!0,isErrored:!1,postsCount:0,likeCount:0,dislikeCount:0,viewCount:0,firstPublication:null,errors:[]}},computed:Object(n["a"])({},Object(u["mapGetters"])(["isAuth","settings","blogInfo","user"]),{canUserSeeAllStat:function(){return this.user.moderation||this.settings.STATISTICS_IS_PUBLIC}}),watch:{activeNavProp:function(){this.getStats()}},methods:{selectActiveNavProp:function(t){this.activeNavProp=t},getStats:function(){var t,s=this;if(this.isAuth&&this.canUserSeeAllStat)t=this.navItems[this.activeNavProp].value;else if(this.isAuth)t="my";else{if(!this.canUserSeeAllStat)return;t="all"}l.a.get("".concat(c["a"],"/api/statistics/").concat(t)).then((function(t){401===t.status?s.settings.STATISTICS_IS_PUBLIC=!0:(s.postsCount=t.data.postsCount,s.likeCount=t.data.likeCount,s.dislikeCount=t.data.dislikeCount,s.viewCount=t.data.viewCount,s.firstPublication=t.data.firstPublication)})).catch((function(t){s.errors.push(t),s.isErrored=!0})).finally((function(){return s.isLoading=!1}))}},mounted:function(){this.getStats()},metaInfo:function(){return{title:this.blogInfo?"Statistics | ".concat(this.blogInfo.title," - ").concat(this.blogInfo.subtitle):"Statistics"}}},S=v,d=(a("edc8"),a("2877")),C=Object(d["a"])(S,i,e,!1,null,null,null);s["default"]=C.exports},"614c":function(t,s,a){},edc8:function(t,s,a){"use strict";var i=a("614c"),e=a.n(i);e.a}}]);
//# sourceMappingURL=stat.ac1bf1f4.js.map